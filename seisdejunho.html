<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel de Auditoria de Estações de Trabalho - Zara Home</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: A dashboard structure was chosen to provide a top-down information flow. It starts with high-level Key Performance Indicators (KPIs) for an immediate overview. This is followed by visual charts (donuts) that break down the status of key equipment. The core of the application is an interactive, filterable list of station cards, allowing the user to drill down from the general summary to specific, actionable details. This structure facilitates quick problem identification and targeted investigation, which is ideal for an audit report. -->
    <!-- Visualization & Content Choices:
        - Report Info: Overall statistics (total audited, issues). Goal: Inform. Viz: KPI Cards (HTML/Tailwind). Interaction: None. Justification: Provides immediate, high-impact summary.
        - Report Info: Status breakdown for Scanners and Decouplers. Goal: Compare proportions. Viz: Donut Charts (Chart.js/Canvas). Interaction: Tooltips on hover. Justification: Clearly shows the proportion of 'Okay' vs. 'Issue' for key components without clutter.
        - Report Info: Detailed status for each workstation. Goal: Organize & Detail. Viz: Interactive Table (HTML/Tailwind). Interaction: Filtering by status (All, Critical, Attention, OK). Justification: Presents detailed information in a structured, easilycomparable format, allowing users to actively query the data and focus on specific categories.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 320px;
            margin-left: auto;
            margin-right: auto;
            height: 320px;
        }
        .status-badge {
            display: inline-flex;
            align-items: center;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        .status-ok { background-color: #dcfce7; color: #166534; }
        .status-attention { background-color: #fef9c3; color: #854d0e; }
        .status-critical { background-color: #fee2e2; color: #991b1b; }
        .status-neutral { background-color: #e5e7eb; color: #374151; }
        .filter-btn.active {
            background-color: #1f2937;
            color: #ffffff;
            font-weight: 600;
        }
    </style>
</head>
<body class="bg-stone-50 text-gray-800">

<div class="container mx-auto p-4 sm:p-6 lg:p-8">

    <header class="mb-8">
        <a href="index.html" class="inline-flex items-center text-blue-600 hover:text-blue-800 mb-4 font-medium">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
            Voltar aos Relatórios
        </a>
        <h1 class="text-3xl font-bold text-gray-900">Painel de Auditoria de Estações de Trabalho</h1>
        <p class="text-lg text-gray-600">Setor: Zara Home | Data da Verificação: 06/06/2025</p>
    </header>

    <section id="kpis" class="mb-8">
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
            <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                <h2 class="text-sm font-medium text-gray-500">Total de Estações</h2>
                <p class="text-3xl font-semibold text-gray-900">12</p>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                <h2 class="text-sm font-medium text-gray-500">Estações com Ocorrências</h2>
                <p class="text-3xl font-semibold text-red-600">8</p>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                <h2 class="text-sm font-medium text-gray-500">Taxa de Falha (Desacoplador)</h2>
                <p class="text-3xl font-semibold text-red-600">50%</p>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
                <h2 class="text-sm font-medium text-gray-500">Scanners Ausentes</h2>
                <p class="text-3xl font-semibold text-yellow-600">3</p>
            </div>
        </div>
    </section>

    <section id="summary-charts" class="mb-8 bg-white p-6 rounded-lg shadow-sm border border-gray-200">
        <h2 class="text-xl font-bold text-gray-900 mb-2">Resumo Visual dos Equipamentos</h2>
        <p class="text-gray-600 mb-6">Esta seção apresenta um panorama do estado de conservação dos Scanners e Desacopladores em todas as estações auditadas. Interaja com os gráficos para ver os detalhes de cada categoria.</p>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div>
                <h3 class="text-lg font-semibold text-center text-gray-700 mb-2">Status dos Scanners</h3>
                <div class="chart-container">
                    <canvas id="scannerChart"></canvas>
                </div>
            </div>
            <div>
                <h3 class="text-lg font-semibold text-center text-gray-700 mb-2">Status dos Desacopladores</h3>
                <div class="chart-container">
                    <canvas id="decouplerChart"></canvas>
                </div>
            </div>
        </div>
    </section>

    <section id="detailed-view">
        <div class="bg-white p-6 rounded-lg shadow-sm border border-gray-200">
            <h2 class="text-xl font-bold text-gray-900 mb-2">Detalhes por Estação de Trabalho</h2>
            <p class="text-gray-600 mb-4">Utilize os filtros para navegar entre as estações de trabalho e inspecionar o status individual de cada equipamento. A tabela a seguir permite uma visualização detalhada de cada estação, com a indicação de seu status geral e dos periféricos.</p>
            <div id="filters" class="flex flex-wrap gap-2 mb-6">
                <button class="filter-btn active py-2 px-4 rounded-lg bg-gray-200 text-gray-700 font-medium transition-colors duration-200" data-filter="all">Todos</button>
                <button class="filter-btn py-2 px-4 rounded-lg bg-gray-200 text-gray-700 font-medium transition-colors duration-200" data-filter="critical">Críticos</button>
                <button class="filter-btn py-2 px-4 rounded-lg bg-gray-200 text-gray-700 font-medium transition-colors duration-200" data-filter="attention">Com Atenção</button>
                <button class="filter-btn py-2 px-4 rounded-lg bg-gray-200 text-gray-700 font-medium transition-colors duration-200" data-filter="ok">Conformes</button>
            </div>

            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                    <tr>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Estação</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nº de Série</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Impressora</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Scanner</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Desacoplador</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Observação</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status Geral</th>
                    </tr>
                    </thead>
                    <tbody id="station-table-body" class="bg-white divide-y divide-gray-200">
                    <!-- Table rows will be inserted here by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </section>
</div>

<script>
    const stationData = [
        { id: 'TGT0002', serial: 'CZC4277318', printer: { status: 'ok', text: 'Okay com ping' }, scanner: { status: 'ok', text: 'Sem fio, Okay' }, decoupler: { status: 'attention', text: 'Com ping, Luz vermelha' }, obs: 'Atenção: Desacoplador com luz de erro.', overall: 'attention' },
        { id: 'TGT0003', serial: 'CZC4267SPW', printer: { status: 'ok', text: 'Okay com ping' }, scanner: { status: 'critical', text: 'Ausente' }, decoupler: { status: 'critical', text: 'Com ping, Luz vermelha' }, obs: 'Crítico: Scanner ausente e desacoplador com erro.', overall: 'critical' },
        { id: 'TGT0004', serial: 'CZC4197BVT', printer: { status: 'ok', text: 'Okay com ping' }, scanner: { status: 'attention', text: 'Apenas a base' }, decoupler: { status: 'ok', text: 'Luz verde com ping' }, obs: 'Atenção: Scanner incompleto (apenas a base).', overall: 'attention' },
        { id: 'TGT0005', serial: 'CZC4197BVL', printer: { status: 'ok', text: 'Okay com ping' }, scanner: { status: 'ok', text: 'Okay' }, decoupler: { status: 'attention', text: 'Luz vermelha com ping' }, obs: 'Atenção: Desacoplador com luz de erro.', overall: 'attention' },
        { id: 'TGT0006', serial: 'CZC4197BVM', printer: { status: 'ok', text: 'Okay com ping' }, scanner: { status: 'ok', text: 'Okay' }, decoupler: { status: 'ok', text: 'Luz verde com ping' }, obs: 'Todos os itens em conformidade.', overall: 'ok' },
        { id: 'TGT0007', serial: 'CZC4197BVR', printer: { status: 'ok', text: 'Okay com ping' }, scanner: { status: 'attention', text: 'Fora do Padrão' }, decoupler: { status: 'ok', text: 'Luz verde com ping' }, obs: 'Scanner com fio (fora do padrão sem fio).', overall: 'attention' },
        { id: 'TGT0008', serial: 'CZC4197BVK', printer: { status: 'ok', text: 'Okay com ping' }, scanner: { status: 'ok', text: 'Okay' }, decoupler: { status: 'attention', text: 'Com ping, Luz apagada' }, obs: 'Atenção: Desacoplador inoperante (luz apagada).', overall: 'attention' },
        { id: 'TGT0009', serial: 'CZC4197BVQ', printer: { status: 'ok', text: 'Okay com ping' }, scanner: { status: 'ok', text: 'Okay' }, decoupler: { status: 'attention', text: 'Com ping, Luz vermelha' }, obs: 'Atenção: Desacoplador com luz de erro.', overall: 'attention' },
        { id: 'TGT0010', serial: 'CZC4197BVN', printer: { status: 'ok', text: 'Okay com ping' }, scanner: { status: 'ok', text: 'Okay' }, decoupler: { status: 'attention', text: 'Com ping, Luz vermelha' }, obs: 'Atenção: Desacoplador com luz de erro.', overall: 'attention' },
        { id: 'TGT0011', serial: 'CZC4197BVP', printer: { status: 'ok', text: 'Okay com ping' }, scanner: { status: 'ok', text: 'Okay' }, decoupler: { status: 'ok', text: 'Luz verde com ping' }, obs: 'Todos os itens em conformidade.', overall: 'ok' },
        { id: 'TGT0012', serial: 'CZC4257GBN', printer: { status: 'ok', text: 'Okay com ping' }, scanner: { status: 'critical', text: 'Ausente' }, decoupler: { status: 'critical', text: 'Luz vermelha com USB' }, obs: 'Crítico: Scanner ausente e desacoplador com erro.', overall: 'critical' },
        { id: 'TGT0013', serial: 'CZC4257GBP', printer: { status: 'ok', text: 'Okay com ping' }, scanner: { status: 'critical', text: 'Ausente' }, decoupler: { status: 'critical', text: 'Luz vermelha com ping' }, obs: 'Crítico: Scanner ausente e desacoplador com erro.', overall: 'critical' }
    ];

    document.addEventListener('DOMContentLoaded', () => {
        const stationTableBody = document.getElementById('station-table-body');

        const statusMap = {
            ok: { class: 'status-ok', icon: `<svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>` },
            attention: { class: 'status-attention', icon: `<svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>` },
            critical: { class: 'status-critical', icon: `<svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"></path></svg>` },
            neutral: { class: 'status-neutral', icon: `` }
        };

        function renderStationTable() {
            stationTableBody.innerHTML = '';
            stationData.forEach(station => {
                const row = document.createElement('tr');
                row.className = 'station-row bg-white hover:bg-gray-50';
                row.dataset.status = station.overall;

                const printerStatus = statusMap[station.printer.status];
                const scannerStatus = statusMap[station.scanner.status];
                const decouplerStatus = statusMap[station.decoupler.status];

                let overallBadgeClass;
                if(station.overall === 'ok') overallBadgeClass = 'status-ok';
                else if(station.overall === 'attention') overallBadgeClass = 'status-attention';
                else if(station.overall === 'critical') overallBadgeClass = 'status-critical';
                else overallBadgeClass = 'status-neutral';

                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${station.id}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${station.serial}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"><span class="status-badge ${printerStatus.class}">${printerStatus.icon}${station.printer.text}</span></td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"><span class="status-badge ${scannerStatus.class}">${scannerStatus.icon}${station.scanner.text}</span></td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"><span class="status-badge ${decouplerStatus.class}">${decouplerStatus.icon}${station.decoupler.text}</span></td>
                    <td class="px-6 py-4 text-sm text-gray-600">${station.obs}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"><span class="status-badge ${overallBadgeClass}">${station.overall.charAt(0).toUpperCase() + station.overall.slice(1)}</span></td>
                `;
                stationTableBody.appendChild(row);
            });
        }

        renderStationTable();

        const filters = document.getElementById('filters');
        filters.addEventListener('click', (e) => {
            if (e.target.tagName !== 'BUTTON') return;

            const filterValue = e.target.dataset.filter;

            filters.querySelector('.active').classList.remove('active');
            e.target.classList.add('active');

            const rows = document.querySelectorAll('.station-row');
            rows.forEach(row => {
                if (filterValue === 'all' || row.dataset.status === filterValue) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        });

        const scannerStatusCounts = stationData.reduce((acc, station) => {
            const status = station.scanner.text;
            if (status.includes('Okay')) acc.ok++;
            else if (status.includes('Ausente')) acc.absent++;
            else if (status.includes('Padrão')) acc.nonStandard++;
            else if (status.includes('base')) acc.incomplete++;
            return acc;
        }, { ok: 0, absent: 0, nonStandard: 0, incomplete: 0 });

        const decouplerStatusCounts = stationData.reduce((acc, station) => {
            const status = station.decoupler.text;
            if (status.includes('verde')) acc.ok++;
            else if (status.includes('vermelha')) acc.error++;
            else if (status.includes('apagada')) acc.off++;
            return acc;
        }, { ok: 0, error: 0, off: 0 });

        const chartOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'bottom',
                    labels: {
                        padding: 20,
                        boxWidth: 12,
                        font: {
                            size: 14
                        }
                    }
                },
                tooltip: {
                    bodyFont: {
                        size: 14
                    },
                    titleFont: {
                        size: 16
                    }
                }
            },
            cutout: '60%'
        };

        new Chart(document.getElementById('scannerChart'), {
            type: 'doughnut',
            data: {
                labels: ['Conforme', 'Ausente', 'Fora do Padrão', 'Incompleto'],
                datasets: [{
                    label: 'Status dos Scanners',
                    data: [scannerStatusCounts.ok, scannerStatusCounts.absent, scannerStatusCounts.nonStandard, scannerStatusCounts.incomplete],
                    backgroundColor: ['#22c55e', '#ef4444', '#f97316', '#eab308'],
                    borderColor: '#ffffff',
                    borderWidth: 2
                }]
            },
            options: chartOptions
        });

        new Chart(document.getElementById('decouplerChart'), {
            type: 'doughnut',
            data: {
                labels: ['Conforme', 'Com Erro', 'Inoperante'],
                datasets: [{
                    label: 'Status dos Desacopladores',
                    data: [decouplerStatusCounts.ok, decouplerStatusCounts.error, decouplerStatusCounts.off],
                    backgroundColor: ['#22c55e', '#ef4444', '#f59e0b'],
                    borderColor: '#ffffff',
                    borderWidth: 2
                }]
            },
            options: chartOptions
        });
    });
</script>

</body>
</html>
